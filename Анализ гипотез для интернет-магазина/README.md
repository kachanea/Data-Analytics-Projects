## Анализ гипотез для интернет-магазина

### Описание проекта
Для крупного интернет-магазина вместе с отделом маркетинга был подготовлен список гипотез для увеличения выручки.  

Необходимо приоритизировать гипотезы, запустить A/B-тест и проанализировать  результаты.

#### План действий

* В первой части проекта проведем приоритизацию гипотез с помощью фреймворков ICE и RICE.

* Во второй части проекта проведем A/B тест и оценим результаты. Построим графики, проверим выборки на аномалии. Посчитаем статистическую значимость различий в среднем количестве заказов и среднем чеке на сырых и очищенных от аномалий данных.  
Примем решение, продолжать ли тест и сделаем выводы.

### Часть 1. Приоритизация гипотез.
В файле 9 гипотез по увеличению выручки интернет-магазина с указанными параметрами `Reach`, `Impact`, `Confidence`, `Effort`.

#### Задачи

1. Применим фреймворк ICE для приоритизации гипотез. Отсортируем их по убыванию приоритета.
2. Применим фреймворк RICE для приоритизации гипотез. Отсортируем их по убыванию приоритета.
3. Рассмотрим, как изменилась приоритизация гипотез при применении RICE вместо ICE.

#### Выводы

ICE отличается от RICE на параметр `Reach`, который отражает долю пользователей, которую затронут изменения, и измеряется от 0 (охват гипотезы никого из пользователей не затронет) до 10 (гипотеза охватит хотя бы половину пользователей).

По результатам ICE приоритет получают гипотезы **№№ 8, 0, 7**.  

После расчета RICE гипотезы **№№ 7, 2, 0** получают более высокий приоритет и
могут быть рекомендованы для тестирования в первую очередь.

Гипотеза **№8** получила низкий бал `Reach` и опускается на 5-ое место по приоритету рассмотрения.


---

### Часть 2. Анализ A/B-теста

По итогам A/B-теста были получены результаты, которые описаны в файлах /datasets/orders.csv и /datasets/visitors.csv.  

#### Задачи

Проанализируем A/B-тест:  

1. Построим график кумулятивной выручки по группам.
2. Построим график кумулятивного среднего чека по группам.
3. Построим график относительного изменения кумулятивного среднего чека группы B к группе A.
4. Построим график кумулятивного среднего количества заказов на посетителя по группам.
5. Построим график относительного изменения кумулятивного среднего количества заказов на посетителя группы B к группе A.
6. Построим точечный график количества заказов по пользователям.
7. Посчитаем 95-й и 99-й перцентили количества заказов на пользователя. Выберем границу для определения аномальных пользователей.
8. Построим точечный график стоимостей заказов. 
9. Посчитаем 95-й и 99-й перцентили стоимости заказов. Выберем границу для определения аномальных заказов.
10. Посчитаем статистическую значимость различий в среднем количестве заказов на посетителя между группами по «сырым» данным. 
11. Посчитаем статистическую значимость различий в среднем чеке заказа между группами по «сырым» данным. 
12. Посчитаем статистическую значимость различий в среднем количестве заказов на посетителя между группами по «очищенным» данным.
13. Посчитаем статистическую значимость различий в среднем чеке заказа между группами по «очищенным» данным. 
14. Примем решение по результатам теста и объясним его.

#### Выводы

----
Были успешно загружены два датасета — с заказами и количеством посетителей по дням.  
Пропуски и явные дубликаты не обнаружены.

В таблице с заказами загружено 1197 строки, из них к группе "А" относятся 557 заказов, к группе "B" — 640 заказов.  

Количество уникальных пользователей в группе "А" — 503, в группе "В" — 586. Всего 1031 уникальных пользователя.

Было обнаружено пересечение пользователей — 58 человек оказались в обеих группах. Удалить полностью из расчетов мы их не можем, так как нельзя отделить информацию по посещениям данных пользователей. Выделены в отдельный датафрейм данные без пересекающихся пользователей. В дальнейшем необходимо по возможности выявить причину и иметь ввиду возможное влияние на результат теста.

В датасетах сверены на соответствие даты — временной интервал совпадает: записи с 01 по 31 августа 2019 года.

---

1. В рамках A/B-тестирования посчитана статистическая значимость различий в среднем количестве заказов на посетителя между группами по очищенным и "сырым" данным:

  * Аномальные значения имеют некоторое влияние на статистическую значимость, однако не влияют на результат. По очищенным данным значение p_value уменьшилось с 0.017 до 0.009.
  * Относительный прирост группы В к группе А увеличился с 13.8% до 16.4%
    

2. Посчитана статистическая значимость различий в среднем чеке заказа между группами по очищенным и "сырым" данным:

   *  Статистической разницы между очищенными и "сырыми" данными нет: значение p_value увеличилось с 0.829 до 0.942
  *  Относительный прирост группы В к группе А уменьшился с 28.7% до 2.2%.   

Имеющиеся факты:

* Есть статистически значимое различие по среднему количеству заказов между группами по "сырым" и по очищенным данным.
* Нет статистически значимого различия по среднему чеку между группами ни по "сырым", ни по очищенным данным.
* График различия среднего количества заказов между группами показывает, что результаты группы B стабильно лучше группы А.  
<br/><br/>


---
---

По результатам исследования можно считать, что различия среднего количества заказов между группами имеют статистическую значимость. В группе B количество заказов увеличилось, при этом изменение среднего чека не подтверждается.

Тест следует признать успешным и остановить.
<br/><br/>

---


